/*! For license information please see 5070.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5070],{5070:function(e,r,t){t.r(r);var n=t(7378),o=t(6740),a=t(754),i=t(7231),s=t(8477),l=t(1992),c=t(7137),u=t(3738),d=t(1410),f=t(8349),p=t(7228),h=t(597),m=t(5852),v=t(4206),y=t.n(v),w=t(4246);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function x(){x=function(){return e};var e={},r=Object.prototype,t=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{s({},"")}catch(e){s=function(e,r,t){return e[r]=t}}function l(e,r,t,n){var o=r&&r.prototype instanceof d?r:d,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,r,t){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var s=j(i,t);if(s){if(s===u)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===n)throw n="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n="executing";var l=c(e,r,t);if("normal"===l.type){if(n=t.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(n="completed",t.method="throw",t.arg=l.arg)}}}(e,t,i),a}function c(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==r&&t.call(v,o)&&(h=v);var y=p.prototype=d.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(r){s(e,r,(function(e){return this._invoke(r,e)}))}))}function b(e,r){function n(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==g(d)&&t.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):r.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var o;this._invoke=function(e,t){function a(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(a,a):a()}}function j(e,r){var t=e.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,j(e,r),"throw"===r.method))return u;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(t,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,u;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,u):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,u)}function E(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function Z(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(t.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===f||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(r,t,n,o,a){void 0===a&&(a=Promise);var i=new b(l(r,t,n,o),a);return e.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!e)for(var r in this)"t"===r.charAt(0)&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=t.call(a,"catchLoc"),l=t.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),u},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),Z(t),u}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;Z(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:_(e),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,r,t,n,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,o)}function j(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){b(a,n,o,i,s,"next",e)}function s(e){b(a,n,o,i,s,"throw",e)}i(void 0)}))}}function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){k(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function k(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return P(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}r.default=function(){var e,r,t,v,g,b,E=(0,o.s0)();localStorage.getItem("auth")||E("/retailer/login");var P=_(n.useState({email:"",name:"",mobile:"",image:""}),2),S=P[0],C=P[1],O=_(n.useState({old_password:"",new_password:"",confirm_password:""}),2),L=O[0],N=O[1],A=_(n.useState({}),2),G=A[0],I=A[1],F=_(n.useState(""),2),T=F[0],V=F[1],K=_(n.useState(!1),2),q=K[0],D=K[1],M=_(n.useState(!1),2),z=M[0],B=M[1],U=_(n.useState(!1),2),Y=U[0],H=U[1],J=_(n.useState({addressError:"",err:!0}),2),R=J[0],X=J[1],$=_(n.useState({emailError:"",nameError:"",mobileError:"",err:!0}),2),Q=$[0],W=$[1],ee=_(n.useState({old_passwordError:"",new_passwordError:"",confirm_passwordError:"",err:!0}),2),re=ee[0],te=ee[1],ne=localStorage.getItem("auth"),oe=JSON.parse(ne).access_token,ae=function(e){var r=e.target,t=r.name,n=r.value;C(Z(Z({},S),{},k({},t,n)))},ie=function(e){var r=e.target,t=r.name,n=r.value;N(Z(Z({},L),{},k({},t,n)))},se=function(){var e=j(x().mark((function e(r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==r.currentTarget.checkValidity()){e.next=6;break}r.preventDefault(),r.stopPropagation(),e.next=13;break;case 6:if(B(!0),""===S.email?W((function(e){return Z(Z({},e),{},{err:!0,emailError:"please Enter Email Address"})})):W((function(e){return Z(Z({},e),{},{err:!1,emailError:""})})),""===S.name?W((function(e){return Z(Z({},e),{},{err:!0,nameError:"please Enter name"})})):W((function(e){return Z(Z({},e),{},{err:!1,nameError:""})})),""===S.mobile?W((function(e){return Z(Z({},e),{},{err:!0,mobileError:"please Enter Mobile number"})})):W((function(e){return Z(Z({},e),{},{err:!1,mobileError:""})})),Q.err){e.next=13;break}return e.next=11,y()({method:"post",url:"".concat("https://ratn-server.newbazar.in","/api/retailer/edit-profile"),data:S,headers:{Authorization:"token ".concat(oe)}});case 11:e.sent.data.success&&(B(!1),C({email:"",name:"",mobile:""}));case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),le=function(){var e=j(x().mark((function e(r){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==r.currentTarget.checkValidity()){e.next=6;break}r.preventDefault(),r.stopPropagation(),e.next=14;break;case 6:if(H(!0),""===L.old_password?te((function(e){return Z(Z({},e),{},{err:!0,old_passwordError:"please Enter old password"})})):te((function(e){return Z(Z({},e),{},{err:!1,old_passwordError:""})})),""===L.new_password?te((function(e){return Z(Z({},e),{},{err:!0,new_passwordError:"please Enter new password"})})):te((function(e){return Z(Z({},e),{},{err:!1,new_passwordError:""})})),""===L.confirm_password?te((function(e){return Z(Z({},e),{},{err:!0,confirm_passwordError:"please Enter confirm password"})})):te((function(e){return Z(Z({},e),{},{err:!1,confirm_passwordError:""})})),re.err){e.next=14;break}return e.next=11,y()({method:"post",url:"".concat("https://ratn-server.newbazar.in","/api/retailer/change-password "),data:L,headers:{Authorization:"token ".concat(oe)}});case 11:t=e.sent,I({data:t}),t.data.success&&(H(!1),N({old_password:"",new_password:"",confirm_password:""}));case 14:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"edit-profile-wrapper",children:(0,w.jsxs)(a.Z,{children:[(0,w.jsxs)("div",{className:"mobile-checkout-header mb-4",children:[(0,w.jsx)(f.siY,{onClick:function(){E("/")}})," ",(0,w.jsx)("h3",{children:"Edit Profile"})]}),(0,w.jsx)("h2",{className:"mb-5",children:"My Account"}),(0,w.jsx)(d.Z.Container,{id:"left-tabs-example",defaultActiveKey:"profile",children:(0,w.jsxs)(u.Z,{children:[(0,w.jsx)(i.Z,{sm:3,children:(0,w.jsxs)(s.Z,{variant:"pills",className:"flex-column",children:[(0,w.jsx)(s.Z.Item,{children:(0,w.jsxs)(s.Z.Link,{eventKey:"profile",children:[" ",(0,w.jsx)(p.Xws,{})," Profile"]})}),(0,w.jsx)(s.Z.Item,{children:(0,w.jsxs)(s.Z.Link,{eventKey:"address",children:[" ",(0,w.jsx)(h.i63,{})," My Address"]})}),(0,w.jsx)(s.Z.Item,{children:(0,w.jsxs)(s.Z.Link,{eventKey:"password",children:[" ",(0,w.jsx)(m.YfK,{})," Change Password"]})})]})}),(0,w.jsx)(i.Z,{sm:9,children:(0,w.jsxs)(d.Z.Content,{children:[(0,w.jsxs)(d.Z.Pane,{eventKey:"profile",children:[(0,w.jsxs)("div",{className:"edit-profile-picture position-relative mt-5 mt-md-0",children:[(0,w.jsx)("div",{className:"camera-icon",children:(0,w.jsx)("label",{htmlFor:"files",children:(0,w.jsx)(m.rJU,{})})}),(0,w.jsx)("input",{type:"file",id:"files",onChange:function(e){return function(e){var r=URL.createObjectURL(e.target.files[0]);C({image:r})}(e)},style:{display:"none"}})]}),(0,w.jsxs)(l.Z,{noValidate:!0,validated:z,children:[(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formEmailAddress",children:[(0,w.jsx)(l.Z.Control,{name:"email",value:S.email,required:!0,onChange:function(e){return ae(e)},type:"email",placeholder:"Enter Email Address"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Email."})]}),(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formBasicPassword",children:[(0,w.jsx)(l.Z.Control,{name:"name",value:S.name,required:!0,onChange:function(e){return ae(e)},type:"text",placeholder:"Enter Name"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Name."})]}),(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formBasicPassword",children:[(0,w.jsx)(l.Z.Control,{name:"mobile",value:S.mobile,required:!0,onChange:function(e){return ae(e)},type:"number",placeholder:"Enter Mobile"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Password."})]}),(0,w.jsx)("div",{className:"login-button mb-4 mt-5",children:(0,w.jsx)(c.Z,{variant:"primary",onClick:se,children:"SAVE CHANGES"})})]})]}),(0,w.jsx)(d.Z.Pane,{eventKey:"address",children:(0,w.jsxs)(l.Z,{noValidate:!0,validated:q,children:[(0,w.jsxs)(l.Z.Group,{className:"mb-3",controlId:"validationCustom03",children:[(0,w.jsx)(l.Z.Control,{as:"textarea",rows:3,required:!0,onChange:function(e){return function(e){var r=e.target,t=(r.name,r.value);V(t)}(e)},name:"userAddress",value:T,placeholder:"Enter Address"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Address."})]}),(0,w.jsx)("div",{className:"login-button mb-4 mt-5",children:(0,w.jsx)(c.Z,{variant:"primary",onClick:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(D(!0),X(""===T?function(e){return Z(Z({},e.addressError),{},{err:!0,addressError:"please enter address"})}:function(e){return Z(Z({},e.addressError),{},{err:!1,addressError:""})}),R.err||console.log(T))},children:"SAVE CHANGES"})})]})}),(0,w.jsxs)(d.Z.Pane,{eventKey:"password",children:[!0===(null==G||null===(e=G.data)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.success)?(0,w.jsx)("span",{style:{color:"green"},children:null==G||null===(t=G.data)||void 0===t||null===(v=t.data)||void 0===v?void 0:v.message}):(0,w.jsx)("span",{style:{color:"red"},children:null==G||null===(g=G.data)||void 0===g||null===(b=g.data)||void 0===b?void 0:b.message}),(0,w.jsxs)(l.Z,{noValidate:!0,validated:Y,children:[(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formEmailAddress",children:[(0,w.jsx)(l.Z.Control,{name:"old_password",required:!0,value:L.old_password,onChange:function(e){return ie(e)},type:"password",placeholder:"Enter old password"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Old password."})]}),(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formBasicPassword",children:[(0,w.jsx)(l.Z.Control,{name:"new_password",required:!0,value:L.new_password,onChange:function(e){return ie(e)},type:"password",placeholder:"Enter new password"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid New password."})]}),(0,w.jsxs)(l.Z.Group,{className:"mb-4 mt-4",controlId:"formBasicPassword",children:[(0,w.jsx)(l.Z.Control,{name:"confirm_password",required:!0,value:L.confirm_password,onChange:function(e){return ie(e)},type:"password",placeholder:"Enter confirm password"}),(0,w.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Please provide a valid Confirm password."})]}),(0,w.jsx)("div",{className:"login-button mb-4 mt-5",children:(0,w.jsx)(c.Z,{variant:"primary",onClick:le,children:"SAVE CHANGES"})})]})]})]})})]})})]})})})}}}]);
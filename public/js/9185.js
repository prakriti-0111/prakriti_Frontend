"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9185],{9185:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var o=t(63696),r=t(81660),n=t(19211),a=t(99101),i=t(84129),l=t(8427),d=t(22187),c=t(68872),m=t(5908),h=t(80249),u=t(50977),g=t(88536),p=t(27397),b=t(62540);function x(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class f extends o.Component{constructor(e){super(e),x(this,"loadLocation",(async()=>{try{let e=await this.fetchCoordinates(),s=e.coords.latitude,t=e.coords.longitude,o=new google.maps.LatLng(s,t),r=this,n=n=new google.maps.Geocoder;n.geocode({latLng:o},(function(e,o){let n="",a="",i="",l="";o==google.maps.GeocoderStatus.OK&&e[0]&&(l=e[0].address_components[e[0].address_components.length-1].long_name,i=e[0].address_components[e[0].address_components.length-2].long_name,a=e[0].address_components[e[0].address_components.length-3].long_name,n=e[0].address_components[e[0].address_components.length-4].long_name),r.setState({formValaues:{...r.state.formValaues,city:n,state:a,country:i,zipcode:l,lat:s,lng:t}})}))}catch(e){}})),x(this,"fetchCoordinates",(async()=>new Promise(((e,s)=>{navigator.geolocation.getCurrentPosition(e,s)})))),x(this,"handleChange",(e=>{const{name:s,value:t}=e.target;this.setState({formValaues:{...this.state.formValaues,[s]:t}})})),x(this,"onSubmit",(e=>{e.preventDefault(),this.formValidate()&&this.props.actions.login(this.state.formValaues)})),x(this,"formValidate",(()=>{let e=this.state.formValaues,s=this.state.formErrors,t=!1;return e.mobile?s.mobile=null:(s.mobile="Mobile # is required.",t=!0),e.password?s.password=null:(s.password="Password # is required.",t=!0),this.setState({formErrors:s}),!t})),x(this,"getCurrentAddress",(()=>{let e=[],s=this.state.formValaues;return s.city&&e.push(s.city),s.state&&e.push(s.state),s.country&&e.push(s.country),s.zipcode&&e.push(s.zipcode),e.join(", ")})),x(this,"getCurrentDateTime",(()=>{const e=new Date,s=function(e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"".concat(e).padStart(2,s)};return"".concat(s(e.getMonth()+1),"/").concat(s(e.getDate()),"/").concat(e.getFullYear()," ").concat(e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))})),this.state={loginError:this.props.loginError,isLoggedIn:this.props.isLoggedIn,formValaues:{mobile:"",password:"",lat:"",lng:"",city:"",state:"",country:"",zipcode:"",type:"login"},formErrors:{mobile:null,password:null}}}componentDidMount(){this.state.isLoggedIn&&setTimeout((()=>{this.props.navigate("/sales-executive")})),this.loadLocation()}static getDerivedStateFromProps(e,s){let t={};return e.auth!==s.auth&&(t.auth=e.auth),e.isLoggedIn!==s.isLoggedIn&&(t.isLoggedIn=e.isLoggedIn),e.loginError!==s.loginError&&(t.loginError=e.loginError),t}componentDidUpdate(e){this.state.isLoggedIn&&(p.oR.success("Login Successfully!"),this.props.navigate("/sales-executive"))}render(){const{loginError:e,formValaues:s,formErrors:t}=this.state;return(0,b.jsx)("div",{className:"login-wrapper",children:(0,b.jsx)(r.A,{children:(0,b.jsxs)(n.A,{children:[(0,b.jsxs)(a.A,{xs:12,md:8,className:"d-none d-sm-block",children:[(0,b.jsx)("div",{className:"login-image",children:(0,b.jsx)("img",{src:c.A,alt:""})}),(0,b.jsxs)("div",{className:"login-header",children:[(0,b.jsx)("h5",{children:"FLAT 40% OFF on Womenâ€™s Jewelry on AXIS Bank Debit & Credit Card"}),(0,b.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt"})]})]}),(0,b.jsx)(a.A,{xs:12,md:4,children:(0,b.jsxs)("div",{className:"login-form-wrapper",children:[(0,b.jsxs)("h2",{children:["Login ",(0,b.jsx)("span",{children:"Welcome Back"})]}),e?(0,b.jsx)(i.A,{variant:"danger",children:e}):null,(0,b.jsxs)("form",{onSubmit:this.onSubmit,children:[(0,b.jsx)(l.A.Group,{className:"mb-2",children:s.lat&&s.lng?(0,b.jsx)(l.A.Control,{value:this.getCurrentAddress(),disabled:!0}):(0,b.jsx)(i.A,{variant:"danger",children:"Please allow location permission."})}),(0,b.jsx)(l.A.Group,{className:"mb-0",children:(0,b.jsx)(l.A.Control,{value:this.getCurrentDateTime(),disabled:!0})}),(0,b.jsxs)(l.A.Group,{className:"mb-2 mt-2",controlId:"formEmailAddress",children:[(0,b.jsx)(l.A.Control,{name:"mobile",onChange:e=>this.handleChange(e),value:s.mobile,type:"text",placeholder:"Enter Mobile Number",required:!0}),(0,b.jsxs)("span",{type:"invalid",style:{color:"red"},children:[" ",t.mobile," "]})]}),(0,b.jsxs)(l.A.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,b.jsx)(l.A.Control,{name:"password",onChange:e=>this.handleChange(e),value:s.password,type:"password",placeholder:"Enter Password",required:!0}),(0,b.jsxs)("span",{type:"invalid",style:{color:"red"},children:[" ",t.password," "]})]}),(0,b.jsxs)(l.A.Group,{className:"mt-2 d-flex justify-content-between forgot-password",controlId:"formBasicCheckbox",children:[(0,b.jsx)(l.A.Check,{type:"checkbox",label:"Remember Me"}),(0,b.jsx)("a",{href:"",children:"Forgot Password?"})]}),(0,b.jsx)("div",{className:"login-button mb-0 mt-4",children:(0,b.jsx)(d.A,{variant:"primary",type:"submit",disabled:!s.lat||!s.lng,children:"LOGIN"})})]}),(0,b.jsx)("div",{className:"login-button-mob mb-4 mt-0",children:(0,b.jsx)(d.A,{variant:"primary",href:"/signup",children:"CREATE ACCOUNT"})})]})})]})})})}}const j=(0,u.A)((0,h.Ng)((e=>({auth:e.auth,isLoggedIn:"isLoggedIn"in e.auth&&e.auth.isLoggedIn,loginError:"loginError"in e.auth?e.auth.loginError:""})),(e=>({actions:(0,m.zH)({login:g.iD},e)})))(f))},68872:(e,s,t)=>{t.d(s,{A:()=>o});const o=t.p+"assets/login.png"},84129:(e,s,t)=>{t.d(s,{A:()=>A});var o=t(71633),r=t.n(o),n=t(63696),a=t(61898),i=t(54803),l=t(35191),d=t(71971),c=t(14977),m=t(17327),h=t(297),u=t(89161),g=t(62540);const p=(0,h.A)("h4");p.displayName="DivStyledAsH4";const b=(0,u.A)("alert-heading",{Component:p}),x=(0,u.A)("alert-link",{Component:l.A}),f={variant:"primary",show:!0,transition:c.A,closeLabel:"Close alert"},j=n.forwardRef(((e,s)=>{const{bsPrefix:t,show:o,closeLabel:n,closeVariant:l,className:h,children:u,variant:p,onClose:b,dismissible:x,transition:f,...j}=(0,a.Zw)(e,{show:"onClose"}),A=(0,d.oU)(t,"alert"),v=(0,i.A)((e=>{b&&b(!1,e)})),w=!0===f?c.A:f,C=(0,g.jsxs)("div",{role:"alert",...w?void 0:j,ref:s,className:r()(h,A,p&&`${A}-${p}`,x&&`${A}-dismissible`),children:[x&&(0,g.jsx)(m.A,{onClick:v,"aria-label":n,variant:l}),u]});return w?(0,g.jsx)(w,{unmountOnExit:!0,...j,ref:void 0,in:o,children:C}):o?C:null}));j.displayName="Alert",j.defaultProps=f;const A=Object.assign(j,{Link:x,Heading:b})}}]);
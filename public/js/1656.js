"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1656],{10521:(e,s,r)=>{r.d(s,{F9:()=>i,QR:()=>l,VM:()=>m,jE:()=>c,kQ:()=>o,v7:()=>n});var a=r(80325),t=r(17942),d=r(45892);const c=e=>s=>{a.A.post("/customer/place-order",e).then((e=>{s({type:t.VN,payload:e.data})})).catch((e=>{}))},i=e=>(e=(0,d.x0)(e,!0),s=>{a.A.get("/customer/orders".concat(e)).then((e=>{e.data.success&&s({type:t.YE,payload:e.data.data})})).catch((e=>{}))}),l=e=>s=>{a.A.post("/customer/cancel-order",e).then((e=>{e.data.success&&s({type:t.jh,payload:e.data})})).catch((e=>{}))},n=e=>a.A.get("/customer/orders?order_id=".concat(e)),o=(e,s)=>a.A.post("/customer/return-request/".concat(e),s),m=e=>a.A.post("/customer/cancel-order",e)},21656:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});var a=r(63696),t=r(81660),d=r(4295),c=r(22187),i=r(49348),l=r(5908),n=r(10521),o=r(50977),m=r(80249),h=(r(27397),r(72446)),u=r(62540);function x(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}class p extends a.Component{constructor(e){super(e),x(this,"loadOrders",(()=>{this.props.actions.OrderList(this.state.queryParams)})),x(this,"viewOrder",(e=>{this.props.navigate("/orders/"+e)})),this.state={items:this.props.items,total:this.props.total,loading:!0,queryParams:{page:1,limit:15}}}componentDidMount(){this.loadOrders()}static getDerivedStateFromProps(e,s){let r={};return e.items!==s.items&&(r.items=e.items,r.loading=!1),e.item_total!==s.item_total&&(r.item_total=e.item_total),r}render(){return(0,u.jsx)("div",{className:"my-order order-desktop",children:(0,u.jsxs)(t.A,{children:[(0,u.jsx)("div",{className:"breadcrumb-wrapper",children:(0,u.jsxs)(d.A,{children:[(0,u.jsx)(d.A.Item,{href:"",children:"My Account"}),(0,u.jsx)(d.A.Item,{active:!0,children:"My Orders"})]})}),this.state.loading?(0,u.jsx)(h.A,{}):(0,u.jsx)(u.Fragment,{children:this.state.items.length>0?this.state.items.map(((e,s)=>(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"bg-light border mb-2 my-order-wrapper px-4 rounded",children:[(0,u.jsxs)("div",{className:"order-id mb-2 d-block",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"id-no",children:(0,u.jsxs)("h2",{className:"mb-0",children:[(0,u.jsx)("span",{className:"fw-bold me-2",children:"Order ID:"})," ",(0,u.jsxs)("span",{children:["#RATN",e.order_no]})]})}),(0,u.jsx)("div",{className:"id-no",children:(0,u.jsxs)("h2",{className:"mb-0",children:[(0,u.jsx)("span",{className:"fw-bold",children:"Order Payment:"})," ",(0,u.jsx)("span",{children:e.order_date})]})}),(0,u.jsx)("hr",{})]}),(0,u.jsxs)("div",{className:"tracker",children:[(0,u.jsx)(c.A,{variant:"primary",className:"mb-0 rounded",onClick:()=>this.viewOrder(e.id),children:"VIEW ORDER"}),"cancelled"!=e.status&&"declined"!=e.status?(0,u.jsxs)(c.A,{variant:"primary",className:"mb-0 rounded",children:[" ",(0,u.jsxs)(i.N_,{to:"/track-order/"+e.id,children:["TRACK ORDER"," "]})]}):null]})]}),(0,u.jsxs)("div",{className:"d-flex  align-items-center justify-content-between flex-wrap",children:[(0,u.jsxs)("div",{className:"d-flex ",children:[(0,u.jsx)("img",{src:e.orderProducts[0].image,alt:"",srcset:"",width:"100px",className:"rounded me-3"}),(0,u.jsxs)("div",{className:"total",children:[(0,u.jsx)("h5",{className:"text-primary-emphasis",children:e.orderProducts[0].product_name}),(0,u.jsx)("h6",{className:"my-2",children:e.total_amount}),(0,u.jsxs)("h6",{children:["Quantity :"," ",(0,u.jsx)("span",{children:e.orderProducts[0].quantity})]})]})]}),(0,u.jsx)("div",{className:"tracker",children:(0,u.jsx)("div",{className:"order-status rounded ",children:(0,u.jsxs)("h4",{className:"text-warning-emphasis",children:["Status: ",(0,u.jsxs)("span",{children:[" ",e.status_display]})]})})})]})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{className:"my-order-footer",children:(0,u.jsx)("div",{className:"order-address",children:(0,u.jsxs)("span",{className:"h6",children:["Expected Delivery:",(0,u.jsx)("span",{className:"text-success",children:e.expected_delivery_date})]})})})]})},s))):(0,u.jsx)("center",{children:(0,u.jsx)("h4",{children:"No order found."})})})]})})}}const j=(0,o.A)((0,m.Ng)((e=>({items:e.customer.order.items,total:e.customer.order.total})),(e=>({actions:(0,l.zH)({OrderList:n.F9,OrderDelete:n.QR},e)})))(p))},4295:(e,s,r)=>{r.d(s,{A:()=>h});var a=r(71633),t=r.n(a),d=r(63696),c=r(71971),i=r(35191),l=r(62540);const n=d.forwardRef((({bsPrefix:e,active:s,children:r,className:a,as:d="li",linkAs:n=i.A,linkProps:o,href:m,title:h,target:u,...x},p)=>{const j=(0,c.oU)(e,"breadcrumb-item");return(0,l.jsx)(d,{ref:p,...x,className:t()(j,a,{active:s}),"aria-current":s?"page":void 0,children:s?r:(0,l.jsx)(n,{...o,href:m,title:h,target:u,children:r})})}));n.displayName="BreadcrumbItem",n.defaultProps={active:!1,linkProps:{}};const o=n,m=d.forwardRef((({bsPrefix:e,className:s,listProps:r,children:a,label:d,as:i="nav",...n},o)=>{const m=(0,c.oU)(e,"breadcrumb");return(0,l.jsx)(i,{"aria-label":d,className:s,ref:o,...n,children:(0,l.jsx)("ol",{...r,className:t()(m,null==r?void 0:r.className),children:a})})}));m.displayName="Breadcrumb",m.defaultProps={label:"breadcrumb",listProps:{}};const h=Object.assign(m,{Item:o})}}]);
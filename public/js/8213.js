"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8213],{27839:(s,e,r)=>{r.d(e,{F9:()=>t,QR:()=>l,jE:()=>n,v7:()=>c,yz:()=>h});var a=r(80325),i=r(22912),d=r(45892);const n=s=>e=>{a.A.post("/sales-executive/place-order",s).then((s=>{e({type:i.VN,payload:s.data})})).catch((s=>{}))},t=s=>(s=(0,d.x0)(s,!0),e=>{a.A.get("".concat("http://localhost:8083","/api/sales-executive/orders").concat(s)).then((s=>{s.data.success&&e({type:i.YE,payload:s.data.data})})).catch((s=>{}))}),l=s=>e=>{a.A.post("".concat("http://localhost:8083","/api/sales-executive/cancel-order"),s).then((s=>{s.data.success&&e({type:i.jh,payload:s.data})})).catch((s=>{}))},c=s=>a.A.get("".concat("http://localhost:8083","/api/sales-executive/orders?order_id=").concat(s)),h=s=>a.A.post("".concat("http://localhost:8083","/api/sales-executive/orders/confirm-order"),s)},8213:(s,e,r)=>{r.r(e),r.d(e,{default:()=>N});var a=r(63696),i=r(81660),d=r(19211),n=r(99101),t=r(22187),l=(r(6045),r(13031),r(36054),r(8590)),c=r(27839),h=r(69324),m=r(50977),o=r(80249),x=r(5908),p=r(60552),j=(r(27289),r(27397)),u=r(62540);function v(s,e,r){return e in s?Object.defineProperty(s,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[e]=r,s}class y extends a.Component{constructor(s){super(s),v(this,"loadOrder",(()=>{this.props.actions.OrderList({order_id:this.props.params.id})})),v(this,"confirmOrder",(async s=>{console.log(s),await(0,c.yz)({order_id:this.props.params.id})?(j.oR.success("Order Status Changed Successfully."),this.props.navigate("/sales-executive/orders")):(j.oR.error("Order not found."),this.props.navigate("/sales-executive/orders/"+this.props.params.id))})),this.state={items:this.props.items,loading:!0}}componentDidMount(){this.loadOrder()}static getDerivedStateFromProps(s,e){let r={};return s.items!==e.items&&(r.items=s.items,r.loading=!1),r}render(){let s=this.state.items.length?this.state.items[0]:null;return(0,u.jsx)(u.Fragment,{children:this.state.loading?(0,u.jsx)(h.A,{}):(0,u.jsx)(u.Fragment,{children:s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"order-summary-wrapper desktop-summary-wrapper",children:(0,u.jsx)(i.A,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsx)(n.A,{xs:12,md:8,children:(0,u.jsxs)("div",{className:"summary-content",children:[(0,u.jsxs)("h2",{className:"mb-5",children:["Order ID: #",s.order_no]}),(0,u.jsxs)("div",{className:"item-wrapper",children:[(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)("div",{className:"item-header",children:"Items"}),(0,u.jsx)("div",{className:"qty-header",children:"Quantity"}),(0,u.jsx)("div",{className:"price-header",children:"Price"})]}),(0,u.jsx)("div",{className:"underline-hr"}),s.orderProducts.map(((s,e)=>(0,u.jsxs)("div",{className:"list-header",children:[(0,u.jsx)("div",{className:"item-header",children:(0,u.jsxs)("div",{className:"header-item-img d-flex gap-3",children:[(0,u.jsx)("span",{children:(0,u.jsx)("img",{src:s.image,alt:""})}),(0,u.jsxs)("span",{children:[(0,u.jsx)("h3",{children:s.product_name}),s.materials.map(((s,e)=>(0,u.jsxs)("h4",{children:[s.material_name,": ",s.quantity>0?s.quantity+" "+s.material_name+", ":""," ",s.purity_name,", ",s.weight," ",s.unit_name]},e))),(0,u.jsxs)("h5",{children:["Size: ",s.size_name]})]})]})}),(0,u.jsx)("div",{className:"qty-header",children:s.quantity}),(0,u.jsx)("div",{className:"price-header",children:(0,u.jsx)("h3",{children:s.rate})})]},e))),(0,u.jsx)("div",{className:"underline-hr"}),(0,u.jsxs)("div",{className:"header-price",children:[(0,u.jsx)("ul",{children:(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Sub Total"}),(0,u.jsx)("span",{children:s.sub_total})]})}),(0,u.jsx)("div",{className:"underline-hr"}),(0,u.jsx)("ul",{children:(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Total"}),(0,u.jsx)("span",{children:s.total_amount})]})})]})]})]})}),(0,u.jsxs)(n.A,{xs:12,md:4,children:[(0,u.jsx)("div",{className:"summary-content-right mb-4",children:(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Ship to"}),(0,u.jsx)("span",{children:s.delivery_address})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Payment Mode"}),(0,u.jsx)("span",{children:s.payment_mode})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Date Ordered"}),(0,u.jsx)("span",{children:s.order_date})]})]})}),"pending"==s.status?(0,u.jsx)(t.A,{variant:"success",className:"mb-4",onClick:()=>this.confirmOrder(s.id),children:"Confirm Order"}):""]})]})})}),(0,u.jsxs)("div",{className:"order-summary-wrapper mobile-summary-wrapper",children:[(0,u.jsxs)("div",{className:"mobile-checkout-header mb-4",children:[(0,u.jsx)(l.rBg,{})," ",(0,u.jsx)("h3",{children:"Order Summary"})]}),(0,u.jsx)(i.A,{children:(0,u.jsx)(d.A,{children:(0,u.jsx)(n.A,{xs:12,md:8,children:(0,u.jsxs)("div",{className:"summary-content",children:[(0,u.jsxs)("h2",{className:"mb-2",children:["Order ID: #",s.order_no]}),s.orderProducts.map(((s,e)=>s.materials.map(((s,e)=>(0,u.jsxs)("h3",{className:"s-sub-content",children:[s.material_name,": ",s.quantity>0?s.quantity+" "+s.material_name+", ":""," ",s.purity_name,", ",s.weight," ",s.unit_name]},e))))),(0,u.jsxs)("div",{className:"order-summary-statue mb-2",children:["Order Status: ",s.status]}),(0,u.jsx)("div",{className:"summary-order-image",children:(0,u.jsx)(t.A,{variant:"primary",className:"mb-4",children:"RATE ORDER"})}),(0,u.jsx)("div",{className:"summary-content-right mb-4",children:(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Ship to"}),(0,u.jsx)("span",{children:s.delivery_address})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Paid via"}),(0,u.jsx)("span",{children:s.payment_mode})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Date Ordered"}),(0,u.jsx)("span",{children:s.order_date})]})]})}),(0,u.jsx)("div",{className:"underline-hr"}),(0,u.jsxs)("div",{className:"item-wrapper",children:[(0,u.jsx)("h3",{children:"ITEMS"}),s.orderProducts.map(((s,e)=>(0,u.jsxs)("div",{className:"header-item-img d-flex gap-3",children:[(0,u.jsx)("span",{children:(0,u.jsx)("img",{src:s.image,alt:""})}),(0,u.jsxs)("span",{children:[(0,u.jsxs)("h3",{children:[s.product_name," "]}),(0,u.jsxs)("h4",{children:["QTY:",s.quantity]}),(0,u.jsx)("h5",{children:s.rate})]})]},e)))]}),(0,u.jsxs)("div",{className:"item-wrapper",children:[(0,u.jsx)("div",{className:"underline-hr"}),(0,u.jsxs)("div",{className:"header-price",children:[(0,u.jsx)("ul",{children:(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Sub Total"}),(0,u.jsx)("span",{children:s.sub_total})]})}),(0,u.jsx)("div",{className:"underline-hr"}),(0,u.jsx)("ul",{children:(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Total"}),(0,u.jsx)("span",{children:s.total_amount})]})})]})]})]})})})})]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"no-product",children:[(0,u.jsx)("img",{src:p.A,alt:""}),(0,u.jsx)("h1",{className:"mb-0",children:"Order Not Found"})]})})})})}}const N=(0,m.A)((0,o.Ng)((s=>({items:s.sales.order.items})),(s=>({dispatch:s,actions:(0,x.zH)({OrderList:c.F9,OrderConfirmation:c.yz},s)})))(y))},6045:(s,e,r)=>{r.p},36054:(s,e,r)=>{r.p},60552:(s,e,r)=>{r.d(e,{A:()=>a});const a=r.p+"assets/no-product.png"},13031:(s,e,r)=>{r.d(e,{A:()=>a});const a=r.p+"assets/order-item.png"}}]);
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6211],{16211:(s,e,a)=>{a.r(e),a.d(e,{default:()=>P});var r=a(63696),o=a(5908),c=a(50977),d=a(80249),n=a(81660),t=a(99101),l=a(8427),i=a(22187),h=a(19211),p=a(80325),w=a(80435);const m=s=>e=>{p.A.post("/customer/change-password ",s).then((s=>{e({type:w.m,payload:s.data})})).catch((s=>{}))};var u=a(27397),g=a(62540);function _(s,e,a){return e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}class f extends r.Component{constructor(s){super(s),_(this,"handleChange",((s,e)=>{let a=this.state.changePass;a.formValues[e]=s.target.value,this.setState({changePass:a})})),_(this,"onSubmit",(async s=>{if(s.preventDefault(),this.p_formValidate()){let s={...this.state.changePass.formValues};this.props.actions.changePassword(s)}})),_(this,"p_formValidate",(()=>{let s=this.state.changePass,e=this.state.changePass.formValues,a=this.state.changePass.formErros,r=!1;return e.confirm_password?a.confirm_password=!1:(a.confirm_password=!0,r=!0),e.old_password?a.old_password=!1:(a.old_password=!0,r=!0),e.new_password?a.new_password=!1:(a.new_password=!0,r=!0),s.formValues=e,s.formErros=a,this.setState({changePass:s}),!r})),this.state={submitting:!1,changePass:{formValues:{confirm_password:"",old_password:"",new_password:""},formErros:{confirm_password:!1,old_password:!1,new_password:!1}},ch_actionCalled:this.props.ch_actionCalled,changePasswordSuccess:this.props.changePasswordSuccess,ch_successMessage:this.props.ch_successMessage,ch_errorMessage:this.props.ch_errorMessage}}static getDerivedStateFromProps(s,e){let a={};return s.ch_actionCalled!==e.ch_actionCalled&&(a.ch_actionCalled=s.ch_actionCalled),s.changePasswordSuccess!==e.changePasswordSuccess&&(a.changePasswordSuccess=s.changePasswordSuccess),s.ch_successMessage!==e.ch_successMessage&&(a.ch_successMessage=s.ch_successMessage),s.ch_errorMessage!==e.ch_errorMessage&&(a.ch_errorMessage=s.ch_errorMessage),a}componentDidUpdate(s){this.state.ch_actionCalled&&(this.state.changePasswordSuccess?(u.oR.success(this.state.ch_successMessage),this.setState({changePass:{formValues:{confirm_password:"",old_password:"",new_password:""},formErros:{confirm_password:!1,old_password:!1,new_password:!1}}})):u.oR.error(this.state.ch_errorMessage),this.props.dispatch({type:w.g}))}render(){const{changePass:s}=this.state;return(0,g.jsx)("div",{className:"edit-profile-wrapper",children:(0,g.jsxs)(n.A,{children:[(0,g.jsx)("h2",{className:"mb-4",children:"Change Password"}),(0,g.jsxs)(l.A,{onSubmit:this.onSubmit,children:[(0,g.jsx)(n.A,{children:(0,g.jsxs)(h.A,{children:[(0,g.jsx)(t.A,{xs:12,md:6,children:(0,g.jsxs)(l.A.Group,{className:"mb-4 mt-0",controlId:"formEmailAddress",children:[(0,g.jsx)(l.A.Label,{children:"Old Password : "}),(0,g.jsx)(l.A.Control,{name:"old_password",className:s.formErros.old_password?"is-invalid":"",value:s.formValues.old_password,onChange:s=>this.handleChange(s,"old_password"),type:"password",placeholder:"Enter old password"}),(0,g.jsx)(l.A.Control.Feedback,{type:"invalid",children:"Please provide a valid Old password."})]})}),(0,g.jsx)(t.A,{xs:12,md:6,children:(0,g.jsxs)(l.A.Group,{className:"mb-4 ",controlId:"formBasicPassword",children:[(0,g.jsx)(l.A.Label,{children:"New Password : "}),(0,g.jsx)(l.A.Control,{name:"new_password",className:s.formErros.new_password?"is-invalid":"",value:s.formValues.new_password,onChange:s=>this.handleChange(s,"new_password"),type:"password",placeholder:"Enter new password"}),(0,g.jsx)(l.A.Control.Feedback,{type:"invalid",children:"Please provide a valid New password."})]})}),(0,g.jsx)(t.A,{xs:12,md:6,children:(0,g.jsxs)(l.A.Group,{className:"mb-4 ",controlId:"formBasicPassword",children:[(0,g.jsx)(l.A.Label,{children:"Confirm Password : "}),(0,g.jsx)(l.A.Control,{name:"confirm_password",className:s.formErros.confirm_password?"is-invalid":"",value:s.formValues.confirm_password,onChange:s=>this.handleChange(s,"confirm_password"),type:"password",placeholder:"Enter confirm password"}),(0,g.jsx)(l.A.Control.Feedback,{type:"invalid",children:"Please provide a valid Confirm password."})]})})]})}),(0,g.jsx)("div",{className:"login-button",children:(0,g.jsx)(i.A,{variant:"primary",type:"submit",children:"SAVE CHANGES"})})]})]})})}}const P=(0,c.A)((0,d.Ng)((s=>({ch_actionCalled:s.customer.changePassword.actionCalled,changePasswordSuccess:s.customer.changePassword.changePasswordSuccess,ch_successMessage:s.customer.changePassword.successMessage,ch_errorMessage:s.customer.changePassword.errorMessage})),(s=>({dispatch:s,actions:(0,o.zH)({changePassword:m},s)})))(f))}}]);
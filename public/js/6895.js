"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6895],{41140:(e,s,t)=>{t.d(s,{FJ:()=>u,P:()=>l,U7:()=>c,X6:()=>n,az:()=>o,cM:()=>m,hV:()=>i,nP:()=>h});var a=t(80325),r=t(65350),d=t(45892);const i=e=>(e=(0,d.x0)(e,!0),s=>{a.A.get("/customer/address".concat(e)).then((e=>{e.data.success&&s({type:r.hY,payload:e.data.data})})).catch((e=>{}))}),l=e=>s=>{a.A.post("/customer/address/store",e).then((e=>{s({type:r.KF,payload:e.data})})).catch((e=>{}))},o=(e,s)=>t=>{a.A.post("/customer/address/update/".concat(e),s).then((e=>{t({type:r.Ki,payload:e.data})})).catch((e=>{}))},c=e=>s=>{a.A.delete("/customer/address/delete/".concat(e)).then((e=>{s({type:r.cS,payload:e.data})})).catch((e=>{}))},n=async()=>await a.A.get("/customer/address/countries"),h=async e=>(e=(0,d.x0)(e,!0),await a.A.get("/customer/address/states".concat(e))),m=async e=>(e=(0,d.x0)(e,!0),await a.A.get("/customer/address/districts".concat(e))),u=e=>(e=(0,d.x0)(e,!0),a.A.get("/customer/address".concat(e)))},86895:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(63696),r=t(5908),d=t(50977),i=t(80249),l=t(81660),o=t(99101),c=t(26692),n=t(8427),h=t(675),m=t(22187),u=t(19211),p=t(41140),x=t(27397),j=t(65350),A=t(57695),g=t(62540);function y(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class C extends a.Component{constructor(e){super(e),y(this,"loadListData",(()=>{this.props.actions.AddressList(this.state.addrs_queryParams)})),y(this,"handleChange",((e,s)=>{let t=this.state.address;t.formValues[s]=e.target.value,this.setState({address:t})})),y(this,"onSubmit",(async e=>{if(e.preventDefault(),this.p_formValidate()){let e={...this.state.address.formValues};this.state.isEdit?this.props.actions.AddressUpdate(this.state.actionRow.id,e):this.props.actions.AddressCreate(e)}})),y(this,"p_formValidate",(()=>{let e=this.state.address,s=this.state.address.formValues,t=this.state.address.formErros,a=!1;return this.state.isEdit||(s.address?t.address=!1:(t.address=!0,a=!0)),s.name?t.name=!1:(t.name=!0,a=!0),s.contact?t.contact=!1:(t.contact=!0,a=!0),s.street?t.street=!1:(t.street=!0,a=!0),s.city?t.city=!1:(t.city=!0,a=!0),s.state?t.state=!1:(t.state=!0,a=!0),s.country?t.country=!1:(t.country=!0,a=!0),s.landmark?t.landmark=!1:(t.landmark=!0,a=!0),s.zipcode?t.zipcode=!1:(t.zipcode=!0,a=!0),s.type?t.type=!1:(t.type=!0,a=!0),e.formValues=s,e.formErros=t,this.setState({address:e}),!a})),y(this,"defaultFormValues",(()=>({address:{formValues:{address:"",name:"",landmark:"",street:"",city:"",state:"",country:"",zipcode:"",contact:"",email:"",type:"",lat:"",lng:""},formErros:{name:!1,landmark:!1,street:!1,city:!1,state:!1,country:!1,zipcode:!1,contact:!1,email:!1,type:!1,address:!1}}}))),y(this,"handleDeleteClose",(()=>{})),y(this,"hanldeEdit",(e=>{this.setState({address:{formValues:{address:"",name:e.name,landmark:e.landmark,street:e.street,city:e.city,state:e.state,country:e.country,zipcode:e.zipcode,contact:e.contact,type:e.type,lat:e.lat,lng:e.lng},formErros:{name:!1,landmark:!1,street:!1,city:!1,state:!1,country:!1,zipcode:!1,contact:!1,email:!1,type:!1,address:!1}},showDialog:!0,isEdit:!0,modalTitle:"Edit Address",actionRow:e})})),y(this,"hanldeDelete",(e=>{this.setState({deleteDialog:!0,actionRow:e})})),y(this,"hanldeAddNew",(()=>{this.setState({showDialog:!0,modalTitle:"Add New Address",isEdit:!1})})),y(this,"handleClose",(()=>{this.setState({showDialog:!1})})),y(this,"onPlaceSelected",(e=>{let s=e.geometry.location.lat(),t=e.geometry.location.lng();var a=new google.maps.LatLng(s,t),r=r=new google.maps.Geocoder;let d=this;r.geocode({latLng:a},((e,a)=>{let r="",i="",l="",o="";a==google.maps.GeocoderStatus.OK&&e[0]&&(o=e[0].address_components[e[0].address_components.length-1].long_name,l=e[0].address_components[e[0].address_components.length-2].long_name,i=e[0].address_components[e[0].address_components.length-3].long_name,r=e[0].address_components[e[0].address_components.length-4].long_name);let c=document.getElementById("address_input"),n=d.state.address;n.formValues.city=r,n.formValues.state=i,n.formValues.country=l,n.formValues.zipcode=o,n.formValues.lat=s,n.formValues.lng=t,n.formValues.address=c.value,d.setState({address:n})}))})),y(this,"handleDeleteClose",(()=>{this.setState({deleteDialog:!1,actionRow:null})})),y(this,"hanldeDeleteSumit",(()=>{this.props.actions.AddressDelete(this.state.actionRow.id)})),this.state={processing:!1,addressList:this.props.addressList,addressListTotal:this.props.addressListTotal,addrs_queryParams:{page:1,limit:15},adrs_actionCalled:this.props.adrs_actionCalled,adrs_createSuccess:this.props.adrs_createSuccess,adrs_editSuccess:this.props.adrs_editSuccess,adrs_deleteSuccess:this.props.adrs_deleteSuccess,adrs_successMessage:this.props.adrs_successMessage,adrs_errorMessage:this.props.adrs_errorMessage,showDialog:!1,modalTitle:"",isEdit:!1,actionRow:null,deleteDialog:!1,...this.defaultFormValues()},this.address_ref=a.createRef()}componentDidMount(){this.loadListData()}static getDerivedStateFromProps(e,s){let t={};return e.addressList!==s.addressList&&(t.addressList=e.addressList),e.addressListTotal!==s.addressListTotal&&(t.addressListTotal=e.addressListTotal),e.adrs_actionCalled!==s.adrs_actionCalled&&(t.adrs_actionCalled=e.adrs_actionCalled),e.adrs_createSuccess!==s.adrs_createSuccess&&(t.adrs_createSuccess=e.adrs_createSuccess),e.adrs_editSuccess!==s.adrs_editSuccess&&(t.adrs_editSuccess=e.adrs_editSuccess),e.adrs_deleteSuccess!==s.adrs_deleteSuccess&&(t.adrs_deleteSuccess=e.adrs_deleteSuccess),e.adrs_successMessage!==s.adrs_successMessage&&(t.adrs_successMessage=e.adrs_successMessage),e.adrs_errorMessage!==s.adrs_errorMessage&&(t.adrs_errorMessage=e.adrs_errorMessage),t}componentDidUpdate(e){this.state.adrs_actionCalled&&(this.state.deleteDialog?this.state.adrs_deleteSuccess?(x.oR.success(this.state.adrs_successMessage),this.setState({deleteDialog:!1}),this.loadListData()):x.oR.error(this.state.adrs_errorMessage):this.state.isEdit?this.state.adrs_editSuccess?(x.oR.success(this.state.adrs_successMessage),this.setState({...this.defaultFormValues(),showDialog:!1,processing:!1}),this.loadListData()):(x.oR.error(this.state.adrs_errorMessage),this.setState({processing:!1})):this.state.adrs_createSuccess?(x.oR.success(this.state.adrs_successMessage),this.setState({...this.defaultFormValues(),showDialog:!1,processing:!1}),this.loadListData()):(x.oR.error(this.state.adrs_errorMessage),this.setState({processing:!1})),this.props.dispatch({type:j.ky}))}render(){console.log(this.state);const{addressList:e,address:s}=this.state;return(0,g.jsx)("div",{className:"edit-profile-wrapper",children:(0,g.jsxs)(l.A,{children:[(0,g.jsxs)("h2",{className:"mb-4",children:["My Address ",(0,g.jsx)(m.A,{variant:"primary",onClick:e=>this.hanldeAddNew(),children:"Add New"})]}),(0,g.jsx)(n.A,{onSubmit:this.onSubmit,children:(0,g.jsx)(l.A,{children:(0,g.jsx)(u.A,{children:(0,g.jsx)(o.A,{xs:12,md:12,children:(0,g.jsxs)(h.A,{striped:!0,bordered:!0,hover:!0,children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Mobile"}),(0,g.jsx)("th",{children:"Street"}),(0,g.jsx)("th",{children:"City"}),(0,g.jsx)("th",{children:"State"}),(0,g.jsx)("th",{children:"Zip"}),(0,g.jsx)("th",{children:"Country"}),(0,g.jsx)("th",{children:"Landmark"}),(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsxs)("tbody",{children:[0==e.length?(0,g.jsx)("tr",{children:(0,g.jsxs)("td",{colSpan:9,children:[" ",(0,g.jsx)("p",{className:"text-center",children:"No address found."})]})}):(0,g.jsx)(g.Fragment,{children:e.map(((e,s)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:e.contact}),(0,g.jsx)("td",{children:e.street}),(0,g.jsx)("td",{children:e.city}),(0,g.jsx)("td",{children:e.state}),(0,g.jsx)("td",{children:e.zipcode}),(0,g.jsx)("td",{children:e.country}),(0,g.jsx)("td",{children:e.landmark}),(0,g.jsxs)("td",{children:[(0,g.jsx)(m.A,{variant:"primary",onClick:s=>this.hanldeEdit(e),children:"Edit"}),"Â ",(0,g.jsx)(m.A,{variant:"danger",onClick:s=>this.hanldeDelete(e),children:"Delete"})]})]},s)))}),(0,g.jsx)("tr",{})]})]})})})})}),(0,g.jsxs)(c.A,{show:this.state.showDialog,onHide:this.handleClose,backdrop:"static",keyboard:!1,children:[(0,g.jsx)(c.A.Header,{closeButton:!0,children:(0,g.jsx)(c.A.Title,{children:this.state.modalTitle})}),(0,g.jsx)(c.A.Body,{children:(0,g.jsxs)(u.A,{children:[(0,g.jsx)(o.A,{xs:12,md:12,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Address : "}),(0,g.jsx)(A.default,{apiKey:"AIzaSyDQJx-KDJUimSyyVUwOBRrrzTG22-rvz18",onPlaceSelected:this.onPlaceSelected,className:"form-control"+(s.formErros.address?" is-invalid":""),id:"address_input"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a Address."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Name : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.name?"is-invalid":"",name:"name",value:s.formValues.name,onChange:e=>this.handleChange(e,"name"),placeholder:"Enter your Name*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a name."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Mobile : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.contact?"is-invalid":"",name:"contact",value:s.formValues.contact,onChange:e=>this.handleChange(e,"contact"),placeholder:"Phone Number*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a valid mobile Number."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Street : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.street?"is-invalid":"",name:"street",value:s.formValues.street,onChange:e=>this.handleChange(e,"street"),placeholder:"Street Address*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a Street Address."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"City : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.city?"is-invalid":"",name:"city",value:s.formValues.city,onChange:e=>this.handleChange(e,"city"),placeholder:"Town/ City*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a Town/city."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"State : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.state?"is-invalid":"",name:"state",value:s.formValues.state,onChange:e=>this.handleChange(e,"state"),placeholder:"state*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a state."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Country : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.country?"is-invalid":"",name:"country",value:s.formValues.country,onChange:e=>this.handleChange(e,"country"),placeholder:"country **"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a country."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Pin Code : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.zipcode?"is-invalid":"",name:"zipcode",value:s.formValues.zipcode,onChange:e=>this.handleChange(e,"zipcode"),placeholder:"PIN Code*"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a Pin code."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Landmark : "}),(0,g.jsx)(n.A.Control,{className:s.formErros.landmark?"is-invalid":"",name:"landmark",value:s.formValues.landmark,onChange:e=>this.handleChange(e,"landmark"),placeholder:"landmark. *"}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a landmark, Suite, House No."})]})}),(0,g.jsx)(o.A,{xs:12,md:6,children:(0,g.jsxs)(n.A.Group,{children:[(0,g.jsx)(n.A.Label,{children:"Address Type : "}),(0,g.jsxs)(n.A.Select,{name:"type",className:s.formErros.type?"is-invalid":"",value:s.formValues.type,onChange:e=>this.handleChange(e,"type"),"aria-label":"Default select example",children:[(0,g.jsx)("option",{children:"Select type"}),(0,g.jsx)("option",{value:"Office",children:"Office"}),(0,g.jsx)("option",{value:"Home",children:"Home"}),(0,g.jsx)("option",{value:"Other",children:"Other"})]}),(0,g.jsx)(n.A.Control.Feedback,{type:"invalid",children:"Please provide a type."})]})})]})}),(0,g.jsxs)(c.A.Footer,{children:[(0,g.jsx)(m.A,{variant:"secondary",onClick:this.handleClose,children:"Close"}),(0,g.jsx)(m.A,{variant:"primary",onClick:this.onSubmit,children:"Save"})]})]}),(0,g.jsxs)(c.A,{show:this.state.deleteDialog,onHide:this.handleDeleteClose,children:[(0,g.jsx)(c.A.Header,{closeButton:!0,children:(0,g.jsx)(c.A.Title,{children:"Delete Address"})}),(0,g.jsx)(c.A.Body,{children:"Are you sure want delete this address?"}),(0,g.jsxs)(c.A.Footer,{children:[(0,g.jsx)(m.A,{variant:"secondary",onClick:this.handleDeleteClose,children:"Close"}),(0,g.jsx)(m.A,{variant:"primary",onClick:this.hanldeDeleteSumit,children:"Yes"})]})]})]})})}}const _=(0,d.A)((0,i.Ng)((e=>({addressList:e.customer.address.items,addressListTotal:e.customer.address.total,adrs_actionCalled:e.customer.address.actionCalled,adrs_createSuccess:e.customer.address.createSuccess,adrs_editSuccess:e.customer.address.editSuccess,adrs_deleteSuccess:e.customer.address.deleteSuccess,adrs_successMessage:e.customer.address.successMessage,adrs_errorMessage:e.customer.address.errorMessage})),(e=>({dispatch:e,actions:(0,r.zH)({AddressDelete:p.U7,AddressList:p.hV,AddressUpdate:p.az,AddressCreate:p.P},e)})))(C))}}]);
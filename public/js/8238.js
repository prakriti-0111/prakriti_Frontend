/*! For license information please see 8238.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8238],{53664:function(e,t,r){r.d(t,{AS:function(){return l},Fv:function(){return s},G4:function(){return a},NO:function(){return u},S1:function(){return c}});var n=r(69222),i=r(65870),o=r(57446),a=function(e){return function(t){n.Z.post("/sales-executive/place-order",e).then((function(e){t({type:i.UO,payload:e.data})})).catch((function(e){}))}},s=function(e){return e=(0,o.B7)(e,!0),function(t){n.Z.get("".concat("MISSING_ENV_VAR".API_URL,"/api/sales-executive/orders").concat(e)).then((function(e){e.data.success&&t({type:i.kY,payload:e.data.data})})).catch((function(e){}))}},c=function(e){return function(t){n.Z.post("".concat("MISSING_ENV_VAR".API_URL,"/api/sales-executive/cancel-order"),e).then((function(e){e.data.success&&t({type:i.je,payload:e.data})})).catch((function(e){}))}},l=function(e){return n.Z.get("".concat("MISSING_ENV_VAR".API_URL,"/api/sales-executive/orders?order_id=").concat(e))},u=function(e){return n.Z.post("".concat("MISSING_ENV_VAR".API_URL,"/api/sales-executive/orders/confirm-order"),e)}},98238:function(e,t,r){r.r(t);var n=r(27378),i=r(80754),o=r(53738),a=r(57231),s=r(87137),c=(r(32510),r(97444),r(39689),r(18349)),l=r(53664),u=r(39482),d=r(13040),h=r(80715),f=r(45106),p=r(9096),m=(r(33646),r(86910)),y=r(24246);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&r.call(y,i)&&(p=y);var j=f.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==v(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,s(j,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(j),s(j,a,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(v,e);var t,r,n,d,h,f=(d=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(d);if(h){var r=N(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return w(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),O(_(t=f.call(this,e)),"loadOrder",(function(){t.props.actions.OrderList({order_id:t.props.params.id})})),O(_(t),"confirmOrder",function(){var e,r=(e=x().mark((function e(r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,(0,l.NO)({order_id:t.props.params.id});case 3:e.sent?(m.Am.success("Order Status Changed Successfully."),t.props.navigate("/sales-executive/orders")):(m.Am.error("Order not found."),t.props.navigate("/sales-executive/orders/"+t.props.params.id));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){j(o,n,i,a,s,"next",e)}function s(e){j(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()),t.state={items:t.props.items,loading:!0},t}return t=v,n=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.items!==t.items&&(r.items=e.items,r.loading=!1),r}}],(r=[{key:"componentDidMount",value:function(){this.loadOrder()}},{key:"render",value:function(){var e=this,t=this.state.items.length?this.state.items[0]:null;return(0,y.jsx)(y.Fragment,{children:this.state.loading?(0,y.jsx)(u.Z,{}):(0,y.jsx)(y.Fragment,{children:t?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"order-summary-wrapper desktop-summary-wrapper",children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(a.Z,{xs:12,md:8,children:(0,y.jsxs)("div",{className:"summary-content",children:[(0,y.jsxs)("h2",{className:"mb-5",children:["Order ID: #",t.order_no]}),(0,y.jsxs)("div",{className:"item-wrapper",children:[(0,y.jsxs)("div",{className:"header",children:[(0,y.jsx)("div",{className:"item-header",children:"Items"}),(0,y.jsx)("div",{className:"qty-header",children:"Quantity"}),(0,y.jsx)("div",{className:"price-header",children:"Price"})]}),(0,y.jsx)("div",{className:"underline-hr"}),t.orderProducts.map((function(e,t){return(0,y.jsxs)("div",{className:"list-header",children:[(0,y.jsx)("div",{className:"item-header",children:(0,y.jsxs)("div",{className:"header-item-img d-flex gap-3",children:[(0,y.jsx)("span",{children:(0,y.jsx)("img",{src:e.image,alt:""})}),(0,y.jsxs)("span",{children:[(0,y.jsx)("h3",{children:e.product_name}),e.materials.map((function(e,t){return(0,y.jsxs)("h4",{children:[e.material_name,": ",e.quantity>0?e.quantity+" "+e.material_name+", ":""," ",e.purity_name,", ",e.weight," ",e.unit_name]},t)})),(0,y.jsxs)("h5",{children:["Size: ",e.size_name]})]})]})}),(0,y.jsx)("div",{className:"qty-header",children:e.quantity}),(0,y.jsx)("div",{className:"price-header",children:(0,y.jsx)("h3",{children:e.rate})})]},t)})),(0,y.jsx)("div",{className:"underline-hr"}),(0,y.jsxs)("div",{className:"header-price",children:[(0,y.jsx)("ul",{children:(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Sub Total"}),(0,y.jsx)("span",{children:t.sub_total})]})}),(0,y.jsx)("div",{className:"underline-hr"}),(0,y.jsx)("ul",{children:(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Total"}),(0,y.jsx)("span",{children:t.total_amount})]})})]})]})]})}),(0,y.jsxs)(a.Z,{xs:12,md:4,children:[(0,y.jsx)("div",{className:"summary-content-right mb-4",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Ship to"}),(0,y.jsx)("span",{children:t.delivery_address})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Payment Mode"}),(0,y.jsx)("span",{children:t.payment_mode})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Date Ordered"}),(0,y.jsx)("span",{children:t.order_date})]})]})}),"pending"==t.status?(0,y.jsx)(s.Z,{variant:"success",className:"mb-4",onClick:function(){return e.confirmOrder(t.id)},children:"Confirm Order"}):""]})]})})}),(0,y.jsxs)("div",{className:"order-summary-wrapper mobile-summary-wrapper",children:[(0,y.jsxs)("div",{className:"mobile-checkout-header mb-4",children:[(0,y.jsx)(c.siY,{})," ",(0,y.jsx)("h3",{children:"Order Summary"})]}),(0,y.jsx)(i.Z,{children:(0,y.jsx)(o.Z,{children:(0,y.jsx)(a.Z,{xs:12,md:8,children:(0,y.jsxs)("div",{className:"summary-content",children:[(0,y.jsxs)("h2",{className:"mb-2",children:["Order ID: #",t.order_no]}),t.orderProducts.map((function(e,t){return e.materials.map((function(e,t){return(0,y.jsxs)("h3",{className:"s-sub-content",children:[e.material_name,": ",e.quantity>0?e.quantity+" "+e.material_name+", ":""," ",e.purity_name,", ",e.weight," ",e.unit_name]},t)}))})),(0,y.jsxs)("div",{className:"order-summary-statue mb-2",children:["Order Status: ",t.status]}),(0,y.jsx)("div",{className:"summary-order-image",children:(0,y.jsx)(s.Z,{variant:"primary",className:"mb-4",children:"RATE ORDER"})}),(0,y.jsx)("div",{className:"summary-content-right mb-4",children:(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Ship to"}),(0,y.jsx)("span",{children:t.delivery_address})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Paid via"}),(0,y.jsx)("span",{children:t.payment_mode})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Date Ordered"}),(0,y.jsx)("span",{children:t.order_date})]})]})}),(0,y.jsx)("div",{className:"underline-hr"}),(0,y.jsxs)("div",{className:"item-wrapper",children:[(0,y.jsx)("h3",{children:"ITEMS"}),t.orderProducts.map((function(e,t){return(0,y.jsxs)("div",{className:"header-item-img d-flex gap-3",children:[(0,y.jsx)("span",{children:(0,y.jsx)("img",{src:e.image,alt:""})}),(0,y.jsxs)("span",{children:[(0,y.jsxs)("h3",{children:[e.product_name," "]}),(0,y.jsxs)("h4",{children:["QTY:",e.quantity]}),(0,y.jsx)("h5",{children:e.rate})]})]},t)}))]}),(0,y.jsxs)("div",{className:"item-wrapper",children:[(0,y.jsx)("div",{className:"underline-hr"}),(0,y.jsxs)("div",{className:"header-price",children:[(0,y.jsx)("ul",{children:(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Sub Total"}),(0,y.jsx)("span",{children:t.sub_total})]})}),(0,y.jsx)("div",{className:"underline-hr"}),(0,y.jsx)("ul",{children:(0,y.jsxs)("li",{children:[(0,y.jsx)("span",{children:"Total"}),(0,y.jsx)("span",{children:t.total_amount})]})})]})]})]})})})})]})]}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"no-product",children:[(0,y.jsx)("img",{src:p.Z,alt:""}),(0,y.jsx)("h1",{className:"mb-0",children:"Order Not Found"})]})})})})}}])&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),v}(n.Component);t.default=(0,d.Z)((0,h.$j)((function(e){return{items:e.sales.order.items}}),(function(e){return{dispatch:e,actions:(0,f.DE)({OrderList:l.Fv,OrderConfirmation:l.NO},e)}}))(E))},32510:function(e,t,r){r.p},39689:function(e,t,r){r.p},9096:function(e,t,r){t.Z=r.p+"assets/no-product.png"},97444:function(e,t,r){t.Z=r.p+"assets/order-item.png"}}]);